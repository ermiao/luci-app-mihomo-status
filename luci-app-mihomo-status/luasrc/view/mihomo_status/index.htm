<%+header%>
<h2><%:Mihomo Status%></h2>
<div id="mihomo-status">Loading...</div>

<script type="text/javascript">
  fetch('<%=luci.dispatcher.build_url("admin", "status", "mihomo_status", "data")%>')
    .then(response => response.json())
    .then(data => {
      let html = '<table class="table"><tbody>';
      for (const [key, value] of Object.entries(data)) {
        html += `<tr><td><strong>${key}</strong></td><td>${value}</td></tr>`;
      }
      html += '</tbody></table>';
      document.getElementById("mihomo-status").innerHTML = html;
    })
    .catch(error => {
      document.getElementById("mihomo-status").innerText = "Failed to load data.";
    });
</script>
<%+footer%>
